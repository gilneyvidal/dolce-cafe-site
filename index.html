
Este arquivo contém todo o código do seu projeto. Copie o conteúdo de cada seção e salve-o em um arquivo com o nome correspondente no seu computador.

==================================================
ARQUIVO: src/app/page.tsx
==================================================

"use client";

import React, { useState } from 'react';
import { ShoppingBag } from 'lucide-react';

import { CartProvider, useCart } from '@/context/cart-context';
import { MENU_DATA, SECTORS_DATA } from '@/lib/data';
import type { MenuCategory, Sector } from '@/lib/types';

import { Header } from '@/components/dolce-cafe/header';
import { Footer } from '@/components/dolce-cafe/footer';
import { MenuList } from '@/components/dolce-cafe/menu-list';
import { CartSheet } from '@/components/dolce-cafe/cart-sheet';
import { OrderDialog } from '@/components/dolce-cafe/order-dialog';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';

function FloatingCartButton({ onOpen }: { onOpen: () => void }) {
  const { totalItems } = useCart();

  if (totalItems === 0) return null;

  return (
    <div className="fixed bottom-6 right-6 z-50">
      <Button
        onClick={onOpen}
        size="lg"
        className="relative h-16 w-16 rounded-full shadow-2xl"
      >
        <ShoppingBag className="h-7 w-7" />
        <Badge
          variant="destructive"
          className="absolute -top-1 -right-1 h-7 w-7 flex items-center justify-center rounded-full text-sm"
        >
          {totalItems}
        </Badge>
        <span className="sr-only">Ver carrinho</span>
      </Button>
    </div>
  );
}

function MenuPage({ menu, sectors }: { menu: MenuCategory[]; sectors: Sector[] }) {
  const [isCartOpen, setCartOpen] = useState(false);
  const [isOrderOpen, setOrderOpen] = useState(false);
  
  return (
    <div className="flex flex-col items-center min-h-screen">
      <div className="container mx-auto p-4 md:p-6 max-w-5xl w-full">
        <div className="border-4 border-primary rounded-2xl p-6 md:p-10 bg-background/50 shadow-xl mb-10">
          <Header />
          <MenuList menu={menu} />
        </div>

        <Footer />
      </div>

      <FloatingCartButton onOpen={() => setCartOpen(true)} />

      <CartSheet
        isOpen={isCartOpen}
        onOpenChange={setCartOpen}
        onProceedToOrder={() => {
          setCartOpen(false);
          setOrderOpen(true);
        }}
      />
      
      <OrderDialog
        isOpen={isOrderOpen}
        onOpenChange={setOrderOpen}
        sectors={sectors}
      />
    </div>
  );
}

export default function Home() {
  return (
    <CartProvider>
      <MenuPage menu={MENU_DATA} sectors={SECTORS_DATA} />
    </CartProvider>
  );
}

